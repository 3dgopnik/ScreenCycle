# Руководство ScreenCycle

Добро пожаловать в пользовательский мануал ScreenCycle. Здесь собраны инструкции по установке, запуску и использованию приложения. Приложение блокирует выбранные приложения и категории во время фазы отдыха и помогает детям мягко переключаться между отдыхом и игровым временем.

Для корректной работы службы синхронизации приложение запрашивает разрешение `FOREGROUND_SERVICE_DATA_SYNC`.

- [Концепция](../CONCEPT.md)
- [Быстрый старт](../quickstart.md)
- [Руководство по интерфейсу](../ui-guide.md)
- [CLI](../cli.md)
- [Конфигурация](../config.md)
- [Рабочие сценарии](../workflows.md)
- [Устранение неполадок](../troubleshooting.md)
- [FAQ](../faq.md)

## Детский таймер обратного отсчёта

Таймер цикла оформлен крупными цифрами, контрастными цветами и дружелюбными иллюстрациями, чтобы ребёнок понимал, сколько времени осталось до смены фазы. На экране отображается текущая фаза («Играй» или «Отдых») и короткий текст-подсказка для родителей.

### Как читать таймер

1. Цвет подложки отражает срочность: зелёный — больше 5 минут, жёлтый — от 1 до 5 минут, красный — последние 60 секунд.
2. Радужная полоска прогресса показывает, какая часть интервала уже прошла.
3. В течение последних 10 секунд таймер сопровождается мягкой вибрацией и анимацией затухания, чтобы ребёнок успел завершить активность.
4. После нуля экран меняет подпись на следующую фазу и кратко напоминает, что делать дальше.

### Советы по настройке

- Проверьте, что устройство не включено в режим «Не беспокоить»: вибро-сигнал таймера помогает детям заметить окончание этапа.
- В разделе **Настроить экран отдыха** можно изменить фон и сообщения, чтобы сделать таймер ещё более понятным.

## Умный режим

Умный режим анализирует, насколько быстро ребёнок переключается между фазами, и автоматически корректирует длительность отдыха и игры, чтобы избежать резких обрывов и перегрузки. Функция также отслеживает повторные попытки открыть заблокированные приложения и может предложить короткую паузу для объяснения правил.

### Как включить умный режим

1. Откройте ScreenCycle и убедитесь, что цикл остановлен.
2. Нажмите кнопку **Настройки** на главном экране.
3. Пролистайте до блока **Поведение цикла**.
4. Включите переключатель **Smart mode**.
5. Подтвердите изменение PIN-кодом, если запрошено.
6. Вернитесь на главный экран — на кнопке запуска появится индикатор "Smart".

### Как работает умный режим

- Умный режим может продлевать текущую фазу до 2 минут, чтобы ребёнок успел закончить партию или подготовиться к отдыху.
- Если ребёнок добровольно завершает игру раньше времени, свободные минуты добавляются к ближайшему отдыху.
- При трёх подряд попытках открыть заблокированное приложение режим включает «переходный» экран с подсказкой для родителей и блокирует ввод на 30 секунд.
- Таймер на главном экране и в уведомлении отображает актуальное время с учётом корректировок, а цветовая схема остаётся прежней, чтобы ребёнок не терялся.

### Как проверить, что умный режим активен

- На главном экране под таймером отображается подпись «Smart mode включён».
- В уведомлении сервиса появляется значок лампочки.
- В настройках в разделе **Поведение цикла** переключатель остаётся активным и подсвеченным.
=======
# Экран отдыха

Обновлённый полноэкранный режим отдыха теперь подчёркивает оставшееся время и делает ожидание чуть более игривым.

## Что отображается

- Пользовательское сообщение отдыха поверх экрана.
- Крупный цифровой таймер обратного отсчёта в формате `ММ:СС`.
- Пузырьковый индикатор прогресса с мягкими углами, который заполняется по мере приближения конца отдыха.

## Поведение

- Таймер и индикатор обновляются каждую секунду по широковещательным сообщениям службы цикла.
- Цвета текста и прогресса автоматически подстраиваются под выбранную тему RestTheme, поэтому экран сохраняет единый стиль.
- Как только REST-фаза завершается, экран автоматически закрывается и возвращает управление пользователю.
